---
layout: default
---
<link rel="stylesheet" href="{{ '/assets/css/card.css' | relative_url }}">

<div class="overlay" id="overlay"></div>

<article class="post">

<div class="post-content">
<div id="card-container">
  {% assign pattern = page %}
  {% include pattern_card.html %}
  <div class="link-container">
    <button id="toggleView" class="btn"><span>&#9650;</span> Hide details</button>
    <a href={{"/shuffle" | relative_url}} class="btn"><span>&#8635;</span> Shuffle</a>
    <a href={{"/the-patterns" | relative_url}} class="btn"><span>&#9776;</span> All patterns</a>
  </div>
</div>

  <header class="post-header">
    <h1 class="post-title">{{ page.name }}</h1>
  </header>

    <p><strong>Category:</strong> {{ page.category }}</p>
    <!--<p><strong>Suit:</strong> {{ page.suit }}</p>-->
    <p>{{ page.description }}</p>

    {% if page.sources %}
    <h3>Sources</h3>
    <ul>
      {% for source in page.sources %}
      {% assign parts = source | split: '<' %}
      {% if parts.size > 1 %}
        {% assign url = parts[1] | split: '>' | first %}
        <li>{{ parts[0] }} <a href="{{ url }}">&#8599;</a></li>
      {% else %}
        <li>{{ source }}</li>
      {% endif %}
      {% endfor %}
    </ul>
    {% endif %}

    <h3>Share this pattern</h3>
    <div class="link-container">
      <a class="btn" href="https://www.linkedin.com/feed/?shareActive=true&text={{ page.name | url_encode }}%20%E2%80%93%20an%20energy-efficient%20software%20pattern%20from%20The%20Green%20Codeck%0A{{ page.url | absolute_url | url_encode }}" target="_blank">LinkedIn</a>
      <a class="btn" href="https://bsky.app/intent/compose?text={{ page.name | url_encode }}%20%E2%80%93%20an%20energy-efficient%20software%20pattern%20from%20The%20Green%20Codeck%20{{ page.url | absolute_url | url_encode }}" target="_blank">Bluesky</a>
      <button class="btn" id="copyLink">Copy link</button>
    </div>
</div>


</article>

<script>
    // Function to get URL parameters
    function getUrlParameter(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // Function to update the URL without refreshing the page
    function updateUrlParameter(param, value) {
      const urlParams = new URLSearchParams(window.location.search);
      urlParams.set(param, value);  // Set the parameter to the value
      window.history.replaceState({}, '', `${window.location.pathname}?${urlParams}`);
    }

    function enterCardView() {
      document.getElementById('overlay').classList.add('active');
      document.getElementById('toggleView').innerHTML = "<span>&#9660;</span> Show details";
      window.scrollTo(0, 0);
    }

    function exitCardView() {
      document.getElementById('overlay').classList.remove('active');
      document.getElementById('toggleView').innerHTML = "<span>&#9650;</span> Hide details";
    }

    // Check if the 'view' parameter is 'card' on page load
    if (getUrlParameter('view') === 'card') {
      enterCardView();
    }

    // Toggle the view on button click and update URL
    document.getElementById('toggleView').addEventListener('click', function() {
      const isCardView = document.getElementById('overlay').classList.contains('active');
      if (isCardView) {
        exitCardView();
        updateUrlParameter('view', 'full');
      } else {
        enterCardView();
        updateUrlParameter('view', 'card');
      }
    });

    document.getElementById('copyLink').addEventListener('click', function() {
      navigator.clipboard.writeText(window.location.href.split('?')[0]);
      this.textContent = 'Copied!';
      setTimeout(function() {
        document.getElementById('copyLink').textContent = 'Copy link';
      }, 2000);
    });
</script>

